{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Roznamcha â€” Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * { box-sizing: border-box; }
    :root{
      --ink-900:#0f172a;
      --ink-700:#334155;
      --ink-500:#64748b;
      --line:#dbe3ee;
      --line-soft:#e5e7eb;
      --primary:#2563eb;
      --primary-dark:#1d4ed8;
      --surface:#ffffff;
    }
    body{
      margin:0;
      font-family:"Manrope","Segoe UI",Tahoma,sans-serif;
      color:var(--ink-900);
      background:
        radial-gradient(1100px 320px at -10% -20%, #dbeafe 0%, transparent 62%),
        radial-gradient(900px 300px at 110% -20%, #dcfce7 0%, transparent 58%),
        #f3f6fb;
    }
    .app-header{ background:#fff; border-bottom:1px solid var(--line-soft); }
    .app-header-inner{
      max-width:1200px;
      margin:0 auto;
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{ display:flex; align-items:center; gap:16px; min-width:0; }
    .brand-logo{
      height:58px;
      width:auto;
      max-width:220px;
      object-fit:contain;
      border-radius:12px;
      border:0;
      background:transparent;
    }
    .app-container{
      max-width:1200px;
      margin:0 auto;
      padding:28px 16px 48px;
    }
    .login-shell{
      max-width:460px;
      margin:26px auto 0;
    }
    .login-hero{
      text-align:center;
      margin-bottom:12px;
    }
    .title{
      font-size:28px;
      font-weight:800;
      margin:0 0 6px;
      letter-spacing:-.02em;
    }
    .sub{
      margin:0;
      color:var(--ink-700);
      font-size:15px;
      line-height:1.5;
    }
    .card{
      background:var(--surface);
      border:1px solid var(--line);
      border-radius:16px;
      padding:20px;
      box-shadow:0 14px 28px rgba(15,23,42,.08);
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:3px;
      background:linear-gradient(90deg,#2563eb,#0ea5e9,#22c55e);
      opacity:.8;
    }
    label{
      display:block;
      font-size:13px;
      font-weight:700;
      margin:12px 0 6px;
      color:#334155;
    }
    input{
      width:100%;
      min-height:43px;
      padding:10px 12px;
      border:1px solid #cbd5e1;
      border-radius:10px;
      font-size:14px;
      background:#f8fafc;
      transition:border-color .14s ease, box-shadow .14s ease, background .14s ease;
    }
    input:focus{
      outline:none;
      background:#fff;
      border-color:#93c5fd;
      box-shadow:0 0 0 3px rgba(37,99,235,.14);
    }
    .btn-primary{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:100%;
      padding:11px 16px;
      border-radius:12px;
      background:linear-gradient(180deg,var(--primary),var(--primary-dark));
      border:1px solid var(--primary-dark);
      color:#fff;
      font-size:15px;
      font-weight:800;
      text-decoration:none;
      cursor:pointer;
      transition:transform .12s ease, box-shadow .12s ease;
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      box-shadow:0 8px 16px rgba(37,99,235,.25);
    }
    .hint{
      font-size:12px;
      color:var(--ink-500);
      margin-top:10px;
      line-height:1.45;
    }
    .error{
      background:#fff1f2;
      border:1px solid #fecdd3;
      color:#9f1239;
      padding:10px 12px;
      border-radius:12px;
      margin:10px 0;
      font-size:14px;
      font-weight:700;
    }
    .info{
      background:#eff6ff;
      border:1px solid #bfdbfe;
      color:#1e3a8a;
      padding:10px 12px;
      border-radius:12px;
      margin:10px 0;
      font-size:14px;
      font-weight:700;
    }
    .login-links{
      margin-top:12px;
      display:grid;
      gap:8px;
      justify-items:center;
    }
    .login-links a{
      font-size:14px;
      font-weight:700;
      color:#2563eb;
      text-decoration:none;
    }
    .login-links a:hover{ text-decoration:underline; }
    @media (max-width: 520px){
      .app-header-inner{padding:12px 14px}
      .app-container{padding:18px 14px 28px}
      .login-shell{margin-top:18px}
      .card{padding:16px}
      .title{font-size:24px}
      .sub{font-size:14px}
      input{font-size:16px} /* prevents iOS zoom */
    }
  </style>
</head>
<body>

<header class="app-header">
  <div class="app-header-inner">
    <div class="brand">
      <img src="{% static 'core/branding/roznamcha.png' %}" alt="Roznamcha" class="brand-logo" />
    </div>
  </div>
</header>

<div class="app-container">
  <div class="login-shell">
    <div class="login-hero">
      <h1 class="title">Welcome Back</h1>
      <p class="sub">Sign in to continue to your Roznamcha workspace.</p>
    </div>

    <div class="card">

      {% if request.GET.reason == "session_expired" %}
        <div class="info">Session expired. Please sign in again.</div>
      {% endif %}

      {% if messages %}
        {% for message in messages %}
          <div class="info">{{ message }}</div>
        {% endfor %}
      {% endif %}

      {% if form.errors %}
        <div class="error">Invalid username or password.</div>
      {% endif %}

      <form method="post" action="{% url 'login' %}">
        {% csrf_token %}

        <label for="id_username">Username</label>
        <input type="text" name="username" autofocus required id="id_username">

        <label for="id_password">Password</label>
        <input type="password" name="password" required id="id_password">

        {% if next %}
          <input type="hidden" name="next" value="{{ next }}">
        {% endif %}

        <div style="margin-top:14px;">
          <button class="btn-primary" type="submit">Login</button>
        </div>

        <div class="login-links">
          <a href="{% url 'signup' %}">Create Account</a>
          <a href="{% url 'password_reset' %}">Forgot password?</a>
        </div>

        <div class="hint">
          Tip: If you logged in on the wrong subdomain, Roznamcha will automatically send you to your correct company subdomain after login.
        </div>
      </form>
    </div>
  </div>
</div>

</body>
</html>
